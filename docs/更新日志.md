# 更新日志

## 1.6.2

- 导入shellcheck
- 导入github actions
- 修复bug

## 1.6.2

- 修复bug
- 修改等待时间

## 1.6.1

- 移除游戏风格和游戏模式的编辑功能
- 修改世界模板读取规则
- 添加新的世界设定
- 推荐了一个可以[在线配置存档的网站](https://dst.suke.fun)
- 修复bug

## 1.5.7

- 修复了添加/配置多层世界mod而导致的错误

## 1.5.6

- 暂时移除迁移面板入口
- 变更库名(lib32gcc1 --> lib32gcc-s1)
- 修复了无法正确编辑地表世界设置的bug

## 1.5.5

- 修复单/多选时报错的问题

## 1.5.4

- 修正运算符typo

## 1.5.3

- 添加更多的返回
- 改善mod管理功能
- 调整mod列表位置

## 1.5.2

- 修复获取模组ID会出现两个 - 的bug
- 添加CentOS可能需要的依赖库
- 改善代码

## 1.5.1

- 修复更新时没有关闭世界的问题

## 1.5.0

- 更改版本号命名规则
- 重构代码
- 优化体验
- 更改modinfo的配置逻辑
- 现在允许root用户执行脚本了
- 允许使用leveldataoverride.lua
- 明确区分可执行文件(bin)和读取文件(lib)
- 添加海难mod的相关配置(目前还不支持使用脚本来编辑)
- 使用脚本切换仓库分支

## 1.4.9.6

- bug fix

## 1.4.9.5

- 取消检测worldgenoverride.lua
- 功能入口调整, 减少主面板信息
- 服务的更新失败造成的mod列表消失

## 1.4.9.4

- 停止使用tmux的`-t`参数

## 1.4.9.3

- 修复更新提示一直显示的bug

## 1.4.9.2

- 修复读取modinfo文件时`folder_name`未定义的问题

## 1.4.9.0

- 更新了新的世界选项
- 更新了世界配置模板

## 1.4.8.0

- 添加了从其他脚本迁移时的帮助

## 1.4.7.3

- 修复了不显示更新提示的bug

## 1.4.7.2

- 修复了无法正常配置cluster.ini和server.ini的bug

## 1.4.7.1

- 移除tmux的`-c`选项, CentOS上面的tmux太古老了 TAT

## 1.4.7.0

- 添加存档备份功能

## 1.4.6.1

- 添加编辑白名单/黑名单/管理员名单功能
- 添加导入本地存档功能

## 1.4.5.0

- 启动失败跳转到后台, 以查看原因
- 改善tmux的panel分割时机
- 保存上次输入的token
- 添加跳过修改世界配置选项
- 添加保存自定义世界模板功能
- 改善使用体验

## 1.4.4.2

- 修改tmux的window/pane的指定方式
    - 因为不同环境的tmux的第一个window序号好像不一样
    - 选择`^`或者`$`来指定window
    - 选择`top`或者`bottom`来指定pane
- Fix typo

## 1.4.4.0

- 添加进入tmux来输入控制台命令的功能
- 调整回到主面板时的等待时间

## 1.4.3.3

- 针对CentOS进行测试, 并修复bug
- 添加主面板显示最近更新内容的功能
- 添加alias的时候支持zsh的`.zshrc`

## 1.4.3.2

- fix typo

## 1.4.3.1

- 添加新模板: 空洞世界(大部分生成选项改成了无)
- git将会无视玩家自己新建的模板

## 1.4.3

- 添加Mod删除功能

## 1.4.2.5

- 修复更新服务端后mod配置文件清空的问题

## 1.4.2.4

- 添加浣猫之年的世界设置选项

## 1.4.2.2

- 修复局部变量重复导致的颜色输出错误

## 1.4.2

- 更改/统一 shellscript 和 lua 的代码风格:
    - 全局常量: `klei_root_dir` --> `KLEI_ROOT_DIR`
    - 局部变量: `_list --> list`
- 完善函数的说明
- 更新文档

## 1.4.1.1 ~ 1.4.1.2

- 修复了modinfo.lua里没有设置选项时报错
- 添加了文档

## 1.4.1

Mod编辑界面支持显示Mod的中文label了

## 1.4.0.7

修复了已知bug

## 1.4.0.4

- 禁用检测mod id是否为饥荒mod的功能(国内会被墙, 然后卡在这)
- 世界模板里的密码设为空
- 修复了typo
- 改善了新建存档时的引导信息

## 1.4.0.3

修复了一些bug

## 1.4.0

- 添加了Mod管理功能
    - 下载Mod
    - 添加Mod到世界
    - 配置Mod

## 1.3.1

- 修改了存档生成逻辑
- `cluster.ini`以及`server.ini`也使用lua来编辑
    - 增加了对应的model
    - 生成存档后, 也可以修改存档配置了(`cluster.ini` & `server.ini`)
- 剔除没必要的参数传递, 看起来舒服了点
- 取消Bash 5.0以上的版本要求(通过全局变量来代替`declare -n`)

## 1.3 ~ 1.3.0.10

- 禁止32位系统运行脚本, 移除相关依赖库下载
- 生成世界后, 也可以修改世界了(worldgenoverride.lua里的选项部分)
- 用lua复刻了一遍泛用函数
- 使用lua来编辑`worldgenoverride.lua`
    - 用lua写了世界设置的model
- 替换`worldgenoverride.lua`模版
- 修复了一堆bug

## 1.2

- 修改了存档生成逻辑
- 增加了对多主机服务器的支持
- 修改了`worldgenoverride.lua`的模板
- 写了一堆bug, 1.2开头的版本都是bug

## 1.1

统一代码风格, 功能不变

## 1.0

最早的版本。纯ShellScript写的。
- 只支持创建1地面1洞穴的存档
- `cluster.ini`和`server.ini`的编辑功能是一行一行硬编码
- 编辑`worldgenoverride.lua`不支持中文选项
- 没有Mod相关的功能
- 因为其他语言的影响, 加上对ShellScript不熟, 代码写的很混乱
